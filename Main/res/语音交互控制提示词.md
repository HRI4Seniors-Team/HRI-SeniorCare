# ESP32S3 语音交互控制 K210 舵机系统提示词

## 项目概述

本项目实现通过 ESP32S3 进行语音识别，并将语音指令转换为控制信号发送给 K210，实现对两个舵机（俯仰轴和横滚轴）的精确控制。系统支持自然语言指令和追踪模式切换。

## 语音指令分类

### 1. 方向控制指令

#### 1.1 水平方向控制（横滚轴）

**向左控制：**
- "往左"
- "往左一点"
- "再往左一点"
- "左转"
- "向左转"
- "朝左边"
- "左边一点"
- "再左一些"

**向右控制：**
- "往右"
- "往右一点"
- "再往右一点"
- "右转"
- "向右转"
- "朝右边"
- "右边一点"
- "再右一些"

#### 1.2 垂直方向控制（俯仰轴）

**向上控制：**
- "往上"
- "往上一点"
- "再往上一点"
- "上抬"
- "向上抬"
- "朝上面"
- "上面一点"
- "再上一些"
- "抬高一点"

**向下控制：**
- "往下"
- "往下一点"
- "再往下一点"
- "下压"
- "向下压"
- "朝下面"
- "下面一点"
- "再下一些"
- "降低一点"

### 2. 停止控制指令

**停止移动：**
- "停止"
- "别动"
- "不动"
- "停"
- "就这样"
- "保持"
- "固定"
- "别动了"
- "停下来"

### 3. 模式切换指令

#### 3.1 追踪模式
- "追踪模式"
- "自动追踪"
- "跟踪"
- "自动跟踪"
- "开始追踪"
- "追踪开"
- "自动模式"

#### 3.2 手动模式
- "手动模式"
- "手动控制"
- "停止追踪"
- "关闭追踪"
- "追踪关"
- "手动"
- "人工控制"

### 4. 复位指令

**回到初始位置：**
- "复位"
- "回中心"
- "回到中间"
- "初始位置"
- "回原点"
- "归零"
- "重置"
- "回正"

### 5. 速度调节指令

#### 5.1 快速移动
- "快一点"
- "快速"
- "再快一些"
- "速度快点"

#### 5.2 慢速移动
- "慢一点"
- "慢速"
- "再慢一些"
- "速度慢点"
- "轻微调整"

## 指令解析规则

### 指令优先级
1. 紧急停止指令（最高优先级）
2. 模式切换指令
3. 复位指令
4. 方向控制指令
5. 速度调节指令

### 指令组合
系统应支持复合指令，例如：
- "快速往左一点" = 速度调节 + 方向控制
- "慢慢往上" = 速度调节 + 方向控制
- "停止追踪，手动往右" = 模式切换 + 方向控制

### 指令容错
- 支持口音变化和发音不清
- 支持同义词识别
- 支持部分关键词识别
- 对于模糊指令，优先选择安全操作

## 语音识别配置建议

### 识别参数
- **采样率**: 16kHz
- **位深**: 16bit
- **声道**: 单声道
- **语言模型**: 中文普通话
- **噪声抑制**: 开启
- **回声消除**: 开启

### 唤醒词
建议设置唤醒词以避免误触发：
- "小助手"
- "云台控制"
- "开始控制"

### 超时设置
- **指令超时**: 5秒（用户说完指令后的等待时间）
- **连续指令间隔**: 2秒（连续指令之间的最小间隔）

## 系统响应行为

### 指令确认
系统接收到指令后应提供反馈：
- **语音反馈**: "收到，向左移动"
- **LED指示**: 不同颜色表示不同状态
- **蜂鸣器**: 简短提示音确认指令接收

### 错误处理
- **无法识别**: "抱歉，没有听清，请重新说一遍"
- **指令冲突**: "指令有冲突，请明确指令"
- **超出范围**: "已到达边界，无法继续移动"

## 通信协议

### ESP32S3 到 K210 指令格式
```json
{
  "command": "move",
  "axis": "pitch|roll|both",
  "direction": "up|down|left|right|stop",
  "speed": 1-10,
  "mode": "manual|auto"
}
```

### 特殊指令
```json
// 复位指令
{
  "command": "reset"
}

// 模式切换
{
  "command": "mode",
  "mode": "auto|manual"
}

// 追踪开始
{
  "command": "track",
  "enable": true|false
}
```

## 安全机制

### 边界保护
- 舵机转动范围限制
- 超出范围时自动停止
- 提供边界警告

### 紧急停止
- 支持硬件紧急停止按钮
- 语音紧急停止指令
- 通信中断时自动停止

### 故障检测
- 舵机状态监控
- 通信链路检测
- 电源电压监控

## 用户使用指南

### 基本使用流程
1. 说出唤醒词激活系统
2. 等待确认提示音
3. 清晰说出控制指令
4. 观察系统响应和移动
5. 根据需要发出后续指令

### 最佳实践
- 说话清晰，语速适中
- 避免在嘈杂环境使用
- 每次指令间留适当间隔
- 使用简短明确的指令

### 故障排除
- 无响应：检查电源和连接
- 识别错误：重新清晰发音
- 动作异常：使用复位指令

## 开发实现要点

### 语音识别引擎
- 推荐使用离线语音识别库
- 支持中文语音识别
- 低延迟处理要求

### 指令解析
- 使用关键词匹配算法
- 实现模糊匹配功能
- 支持指令优先级处理

### 通信实现
- ESP32S3 与 K210 之间使用 UART 通信
- 实现指令队列管理
- 添加通信错误重传机制

### 性能优化
- 优化语音识别响应时间
- 减少系统功耗
- 提高指令执行精度

---

**注意**: 本提示词为系统设计参考，实际实现时需要根据硬件性能和用户需求进行适当调整。